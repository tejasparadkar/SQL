SQL> CREATE TABLE CLIENT_MASTER
  2  (
  3  CLIENT_NO VARCHAR(6) PRIMARY KEY,
  4  NAME VARCHAR(20) NOT NULL,
  5  ADDRESS VARCHAR(30),
  6  CITY VARCHAR(15),
  7  PINCODE NUMBER(8),
  8  STATE VARCHAR(15),
  9  BAL_DUE NUMBER(10,2),
 10  CONSTRAINT FIRST_LETTER CHECK(CLIENT_NO LIKE 'C%')
 11  );

Table created.

SQL> CREATE TABLE PRODUCT_MASTER
  2  (
  3  PRODUCT_NO VARCHAR(6) PRIMARY KEY,
  4  DESCRIPTION VARCHAR(20) NOT NULL,
  5  PROFIT_PER NUMBER(4,2),
  6  UNIT_MEASURE VARCHAR(15),
  7  QTY_ON_HAND NUMBER(8),
  8  RE_ORDERLVL NUMBER(8),
  9  SELL_PRICE NUMBER(8,2) CHECK(SELL_PRICE!=0),
 10  COST_PRICE NUMBER(8,2) CHECK(COST_PRICE!=0),
 11  CONSTRAINT FIRST_LETTER CHECK(PRODUCT_NO LIKE 'P%')
 12  );
CONSTRAINT FIRST_LETTER CHECK(PRODUCT_NO LIKE 'P%')
           *
ERROR at line 11:
ORA-02264: name already used by an existing constraint 


SQL> ED
Wrote file afiedt.buf

  1  CREATE TABLE PRODUCT_MASTER
  2  (
  3  PRODUCT_NO VARCHAR(6) PRIMARY KEY,
  4  DESCRIPTION VARCHAR(20) NOT NULL,
  5  PROFIT_PER NUMBER(4,2),
  6  UNIT_MEASURE VARCHAR(15),
  7  QTY_ON_HAND NUMBER(8),
  8  RE_ORDERLVL NUMBER(8),
  9  SELL_PRICE NUMBER(8,2) CHECK(SELL_PRICE!=0),
 10  COST_PRICE NUMBER(8,2) CHECK(COST_PRICE!=0),
 11  CONSTRAINT PRODUCT_LETTER CHECK(PRODUCT_NO LIKE 'P%')
 12* )
SQL> /

Table created.

SQL> CREATE TABLE SALESMAN_MASTER
  2  (
  3  SALESMAN_NO VARCHAR(6) PRIMARY KEY,
  4  SALES_NAME VARCHAR(20) NOT NULL,
  5  ADDRESS VARCHAR(20),
  6  CITY VARCHAR(20),
  7  PINCODE NUMBER(8),
  8  STATE VARCHAR(20),
  9  SALE_AMT NUMBER(8,2) CHECK(SALE_AMT!=0),
 10  TARGET_GET NUMBER(8,2) CHECK(TARGET_GET!=0),
 11  YTD_SALES NUMBER(6,2),
 12  REMARKS VARCHAR(60),
 13  CONSTRAINT SALESMAN_LETTER CHECK(SALESMAN_NO LIKE 'S%')
 14  );

Table created.

SQL> CREATE TABLE SALES_ORDER
  2  (
  3  ORDER_NO VARCHAR(6) PRIMARY KEY,
  4  CLIENT_NO VARCHAR(6),
  5  ORDER_DATE DATE,
  6  DEL_ADDRESS VARCHAR(35),
  7  SALESMAN_NO VARCHAR(6),
  8  DEL_TYPE CHAR(1) CHECK (DEL_TYPE IN ('P', 'F')),
  9  BILLING CHAR(1),
 10  DEL_DATE DATE,
 11  ORDER_STATUS VARCHAR(10),
 12  CONSTRAINT ORDER_CHECK CHECK(DEL_DATE>ORDER_DATE),
 13  FOREIGN KEY (CLIENT_NO) REFERENCES CLIENT_MASTER(CLIENT_NO),
 14  FOREIGN KEY (SALESMAN_NO) REFERENCES SALESMAN_MASTER(SALESMAN_NO),
 15  CONSTRAINT SALES_LETTER CHECK(ORDER_NO LIKE 'O%')
 16  );

Table created.

SQL> INSERT INTO CLIENT_MASTER
  2  VALUES('C0001','SACHIN','ABC','MANGLORE',421201,'MAHA',1000);

1 row created.

SQL> INSERT INTO CLIENT_MASTER
  2  VALUES('C0002','DHONI','DEF','BANGLORE',521201,'JHAR',0);

1 row created.

SQL> INSERT INTO CLIENT_MASTER
  2  VALUES('C0003','VIRAT','GHI','MANGLORE',621201,'KARN',7000);

1 row created.

SQL> INSERT INTO CLIENT_MASTER
  2  VALUES('C0004','SOURAV','JKL','BANGLORE',721201,'WB',3000);

1 row created.

SQL> INSERT INTO CLIENT_MASTER
  2  VALUES('C0005','ASHWIN','MNO','PUNE',821201,'TN',10000);

1 row created.

SQL> INSERT INTO PRODUCT_MASTER
  2  VALUES('P0001','PULL OVERS',20,'CARTON',10,12,500,100);

1 row created.

SQL> INSERT INTO PRODUCT_MASTER
  2  VALUES('P0002','BISCUITS',80,'PACKETS',15,14,600,150);

1 row created.

SQL> INSERT INTO PRODUCT_MASTER
  2  VALUES('P0003','MOBILE',10,'UNITS',18,19,300,200);

1 row created.

SQL> INSERT INTO SALESMAN_MASTER
  2  VALUES('S0001','GOPAL','PQR','PUNE',821201,'MAHA',123456.78,123456.78,200,'DONE');

1 row created.

SQL> INSERT INTO SALESMAN_MASTER
  2  VALUES('S0002','LAXMAN','STU','BANGLORE',521201,'KARN',891234.56,76545.78,300,'NOT DONE');

1 row created.

SQL> INSERT INTO SALESMAN_MASTER
  2  VALUES('S0003','TABBU','VWX','MANGLORE',621201,'TN',789123.78,891234.78,400,'NOT DONE');

1 row created.

SQL> INSERT INTO SALESMAN_MASTER
  2  VALUES('S0004','MADHAV','YZA','BANGLORE',521201,'KARN',976545.78,900000.78,500,'DONE');

1 row created.

SQL> INSERT INTO SALES_ORDER
  2  VALUES('O0002','C0004','01-FEB-24','BANGLORE','S0004','P','N','01-APR-24','FULFILLED');

1 row created.

SQL> INSERT INTO SALES_ORDER
  2  VALUES('O0004','C0001','01-APR-24','BANGLORE','S0001','F','N','04-APR-24','CANCELLED');

1 row created.

SQL> INSERT INTO SALES_ORDER
  2  VALUES('O0001','C0005','01-APR-24','PUNE','S0003','P','Y','03-MAY-24','BACKORDER');

1 row created.

SQL> SELECT * FROM CLIENT_MASTER;

CLIENT NAME                 ADDRESS                        CITY               PINCODE STATE              BAL_DUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
------ -------------------- ------------------------------ --------------- ---------- --------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0001  SACHIN               ABC                            MANGLORE            421201 MAHA                  1000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0002  DHONI                DEF                            BANGLORE            521201 JHAR                     0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0003  VIRAT                GHI                            MANGLORE            621201 KARN                  7000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0004  SOURAV               JKL                            BANGLORE            721201 WB                    3000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0005  ASHWIN               MNO                            PUNE                821201 TN                   10000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

SQL> SELECT DESCRIPTION FROM PRODUCT_MASTER


DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
--------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
PULL OVERS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
BISCUITS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
MOBILE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> UPDATE CLIENT_MASTER
  2 SET CITY='BANGLORE' WHERE CLIENT_NO='C0005'

1 row updated.

SQL> UPDATE SALESMAN_MASTER
  2  SET CITY='PUNE';

4 rows updated.

SQL> DELETE FROM SALESMAN_MASTER
  2  WHERE SALE_AMT=3500;

0 rows deleted.

SQL> ALTER TABLE CLIENT_MASTER
  2  ADD TELEPHONE NUMBER(10);

Table altered.

SQL> ALTER TABLE PRODUCT_MASTER
  2  MODIFY SELL_PRICE NUMBER(10,2);

Table altered.

SQL> SELECT NAME FROM CLIENT_MASTER WHERE
  2 SUBSTR(NAME,2,1) IN ('A')


NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
--------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
SACHIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> SELECT * FROM CLIENT_MASTER WHERE
  2  CITY IN ('BANGLORE','MANGLORE');

CLIENT NAME                 ADDRESS                        CITY               PINCODE STATE              BAL_DUE  TELEPHONE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
------ -------------------- ------------------------------ --------------- ---------- --------------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
C0001  SACHIN               ABC                            MANGLORE            421201 MAHA                  1000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0002  DHONI                DEF                            BANGLORE            521201 JHAR                     0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0003  VIRAT                GHI                            MANGLORE            621201 KARN                  7000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0004  SOURAV               JKL                            BANGLORE            721201 WB                    3000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
C0005  ASHWIN               MNO                            BANGLORE            821201 TN                   10000                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

SQL> SELECT * FROM SALES_ORDER WHERE
  2  CLIENT_NO IN ('C0001','C0002');

ORDER_ CLIENT ORDER_DAT DEL_ADDRESS                         SALESM D B DEL_DATE  ORDER_STAT PRODUC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
------ ------ --------- ----------------------------------- ------ - - --------- ---------- ------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
O0004  C0001  01-APR-24 BANGLORE                            S0001  F N 04-APR-24 CANCELLED  P0001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
O0003  C0002  01-MAR-24 MANGLORE                            S0001  P N 05-MAR-24 IN PROCESS P0002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       

SQL> SELECT DESCRIPTION FROM PRODUCT_MASTER WHERE
  2  SELL_PRICE BETWEEN 500 AND 750;

DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
--------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
PULL OVERS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
BISCUITS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                

SQL> SELECT COUNT(*) FROM SALES_ORDER;

  COUNT(*)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
         4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              

SQL> SELECT DESCRIPTION FROM PRODUCT_MASTER
  2  WHERE QTY_ON_HAND<RE_ORDERLVL;

DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
--------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
PULL OVERS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
MOBILE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> SELECT DESCRIPTION,QTY_ON_HAND*RE_ORDERLVL AS TOTAL
  2  FROM PRODUCT_MASTER;

DESCRIPTION               TOTAL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
-------------------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
PULL OVERS                  120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
BISCUITS                    210                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
MOBILE                      342                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         

SQL> SELECT AVG(QTY_ON_HAND),CLIENT_NO FROM SALES_ORDER INNER JOIN PRODUCT_MASTER
  2  ON SALES_ORDER.PRODUCT_NO=PRODUCT_MASTER.PRODUCT_NO
  3  INNER JOIN SALESMAN_MASTER
  4  ON SALESMAN_MASTER.SALESMAN_NO=SALES_ORDER.SALESMAN_NO
  5  GROUP BY CLIENT_NO
  6  HAVING MAX(SALE_AMT)='123456.78';

AVG(QTY_ON_HAND) CLIENT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
---------------- ------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
              15 C0002                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
              10 C0001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> SELECT CLIENT_NO FROM PRODUCT_MASTER INNER JOIN SALES_ORDER
  2  ON PRODUCT_MASTER.PRODUCT_NO=SALES_ORDER.PRODUCT_NO
  3  WHERE RE_ORDERLVL<15 AND DESCRIPTION='PULL OVERS';

CLIENT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
C0004                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
C0001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

SQL> SELECT SALES_ORDER.PRODUCT_NO,DESCRIPTION FROM PRODUCT_MASTER INNER JOIN SALES_ORDER
  2  ON PRODUCT_MASTER.PRODUCT_NO=SALES_ORDER.PRODUCT_NO
  3  INNER JOIN SALESMAN_MASTER
  4  ON SALES_ORDER.SALESMAN_NO=SALESMAN_MASTER.SALESMAN_NO
  5  WHERE REMARKS='NOT DONE';

PRODUC DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
------ --------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
P0003  MOBILE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

SQL> SELECT NAME FROM CLIENT_MASTER INNER JOIN SALES_ORDER
  2  ON CLIENT_MASTER.CLIENT_NO=SALES_ORDER.CLIENT_NO
  3  INNER JOIN SALESMAN_MASTER
  4  ON SALES_ORDER.SALESMAN_NO=SALESMAN_MASTER.SALESMAN_NO
  5  WHERE SALE_AMT>10000;

NAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
--------------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
DHONI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
SACHIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
ASHWIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
SOURAV                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  

SQL> SELECT ((COST_PRICE/SELL_PRICE)*100) AS "SIMPLE INDEX" FROM PRODUCT_MASTER


SIMPLE INDEX                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
          20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
          25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
  66.6666667                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            

SQL> CREATE OR REPLACE VIEW TABLE_DETAILS AS
  2  SELECT ORDER_NO,ORDER_DATE,ORDER_STATUS,PRODUCT_MASTER.PRODUCT_NO,
  3  QTY_ON_HAND FROM SALES_ORDER INNER JOIN PRODUCT_MASTER
  4  ON SALES_ORDER.PRODUCT_NO=PRODUCT_MASTER.PRODUCT_NO;

View created.

SQL> GRANT INSERT,UPDATE,DELETE ON CLIENT_MASTER TO SYSTEM
SQL> /

Grant succeeded.

SQL> GRANT SELECT ON SALES_ORDER TO HR

Grant succeeded.

SQL> REVOKE SELECT ON SALES_ORDER FROM HR

Revoke succeeded.

SQL> DROP TABLE CLIENT_MASTER;
DROP TABLE CLIENT_MASTER
           *
ERROR at line 1:
ORA-02449: unique/primary keys in table referenced by foreign keys 


SQL> SPOOL OFF;
